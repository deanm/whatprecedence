/*
 (c) 2014 dean@gmail.com */
var h=20;function n(b,c,e,a){return{b:c,j:a,a:function(a,e){if(0===c)throw"error in operator led";this.left=a;this.right=e.d(c,e);this.type="op_b"+b;return this},c:function(a){if(0===e)throw"error in operator nud";this.left=a.d(e,a);this.type="op_u"+b;return this}}}function q(b,c,e){return n(b,c,e,"left")}function r(b,c,e){return{type:"val_"+b,left:c,h:e,a:function(){throw"led called on a value token.";},c:function(){return this}}}function s(b,c){return r("int",b,c)}
function u(b,c){return r("flt",b,c)}function x(b){return{type:"fun",a:function(){throw"Internal error: led called on a function.";},c:function(c){this.left=b;this.right=c.d(2,c);return this}}}function y(b){return{type:"sym",left:b,a:function(){throw"Internal error: led called on a variable.";},c:function(){return this}}}function z(b){return{type:"typecast",a:function(){throw"Internal error: led called on a function.";},c:function(c){this.left=b;this.right=c.d(3,c);return this}}}
function A(b){function c(){var g=b[a];if(a+1<k){var d=g+b[a+1];if(a+2<k){var f=d+b[a+2];switch(f){case "<<=":case ">>=":return a+=3,n(f,16.1,0,"right")}}switch(d){case "->":return a+=2,q(d,2,0);case "<<":case ">>":return a+=2,q(d,7,0);case "<=":case ">=":return a+=2,q(d,8,0);case "==":case "!=":return a+=2,q(d,9,0);case "&&":return a+=2,q(d,13,0);case "||":return a+=2,q(d,14,0);case "+=":case "-=":case "*=":case "/=":case "%=":case "&=":case "^=":case "|=":return a+=2,q(d,16,0)}}switch(g){case ".":return++a,
q(g,2,0);case "!":case "~":return++a,q(g,0,3);case "*":return++a,q(g,5,3);case "/":case "%":return++a,q(g,5,0);case "+":case "-":return++a,q(g,6,3);case "&":return++a,q(g,10,3);case "^":return++a,q(g,11,0);case "|":return++a,q(g,12,0);case ")":case "]":return++a,{type:g,b:h,a:function(){throw"Internal error: led called on ')'";},c:function(){throw"Internal error: nud called on ')'";}};case "(":case "[":++a;d=e();if("("===g&&d&&"sym"===d.type&&(-1!==v.indexOf(d.left)||-1!==w.indexOf(d.left))){for(d=
[];;)if(f=c(),null!==f){if(")"===f.type)break;if("sym"!==f.type||-1===v.indexOf(f.left)&&-1===w.indexOf(f.left))throw"Unexpected non-typey symbol in typecast: "+f.left;d.push(f.left)}return z(d.join(" "))}return{type:g,b:80,a:function(){throw"Interal error, led called on "+g;},c:function(a){var c=a.d(h-1,a);if("("===g&&")"!==a.e().type||"["===g&&"]"!==a.e().type)throw"Unmatched left parenthesis/bracket.";a.advance();return c}};case "=":return++a,n(g,16.1,0,"right");case ",":return++a,n(g,18.1,0,"right");
case " ":case "\t":case "\r":case "\n":return++a,null}for(var f=3,m=l.length;f<m;f+=4)if(d=l[f-3],null!==(d=b.slice(a).match(d))){var m=l[f-2],D=l[f],t="",f=(0,l[f-1])(d[0]);a+=d[0].length;null!==(d=b.slice(a).match(m))&&(t=d[0],a+=t.length);return D(f,t)}if(null!==(d=b.slice(a).match(p)))return f=d[0],a+=f.length,d=e(),console.log(d),(d&&"("===d.type?x:y)(f);throw"Failed in processing input: "+b.slice(a);}function e(){for(var b=a;a<k;){var d=c();if(null!==d)return a=b,d}a=b;return null}var a=0,k=
b.length,p=/^[a-zA-Z_][a-zA-Z0-9_]*/,m=/^[uU][lL]?|[uU](?:ll|LL)|[lL][uU]?|(?:ll|LL)[uU]?/,l=[/^(?:[0-9]*\.[0-9]+|[0-9]+\.)(?:[eE][+-]?[0-9]+)?|^[0-9]+[eE][+-]?[0-9]+/,/^[fFlL]/,parseFloat,u,/^0[xX][0-9a-fA-F]+/,m,function(a){return parseInt(a,16)},s,/^0[0-7]*/,m,function(a){return parseInt(a,8)},s,/^[1-9][0-9]*/,m,function(a){return parseInt(a,10)},s],v=["signed","unsigned","short","long"],w="bool;char;int;float;double;wchar_t;char16_t;char32_t;_Bool;float_t;double_t;int8_t, uint8_t;int16_t, uint16_t;int32_t, uint32_t;int64_t, uint64_t;intptr_t, uintptr_t;size_t;ssize_t;ptrdiff_t".split(";");
this.k=function(){for(var b=[];a<k;){var d=c();null!==d&&b.push(d)}return b}}function B(b){b={i:b,f:0,g:function(){return this.f>=this.i.length},e:function(){return this.g()?{b:h,type:"end"}:this.i[this.f]},advance:function(){++this.f},d:function(c,b){if(!b.g()){var a=b.e();b.advance();var k=a.c(b);for(console.log([c,b.e().b]);c>b.e().b;)a=b.e(),b.advance(),k=a.a(k,b);return k}}};return b.d(h-1,b)}function C(b,c,e,a,k){var p=E(b+1,e,k);!0===k(b,c,e,a)&&(p="("+p+")");return p}
function E(b,c,e){if(void 0===c)throw"Error parsing input, probably invalid.";switch(c.type){case "val_int":return c.left+""+c.h;case "val_flt":return c.left.toExponential()+""+c.h;case "sym":return c.left;case "fun":return c.left+"("+C(b,"func",c.right,c,e)+")";case "typecast":return"(("+c.left+")"+C(b,"typecast",c.right,c,e)+")";default:if("op_u"===c.type.substr(0,4))return c.type.substr(4)+C(b,"unary",c.left,c,e);if("op_b"===c.type.substr(0,4)){var a=" ",k=" ";"op_b->"===c.type&&(a=k="");"op_b,"===
c.type&&(a="");return C(b,"left",c.left,c,e)+a+c.type.substr(4)+k+C(b,"right",c.right,c,e)}throw"Internal error, unhandled node: "+c.type+" "+c.value;}}function F(b,c){function e(a,b,c){return"val_int"!==c.type}function a(a,b,c,l){return 0===a||!1===e(0,0,c)||"left"===b&&"left"===l.j&&c.b<=l.b?!1:!0}return C(0,"root",b,null,c?a:e)}window.parse_c=function(b){b=B((new A(b)).k());console.log(JSON.stringify(b));return[F(b),F(b,!0)]};
